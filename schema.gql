# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Team {
  id: ID!
  name: String!
  description: String!
  owner: User!
  members: [User!]
  projects: [Project!]
}

type Project {
  id: ID!
  name: String!
  description: String!
  creationDate: Date!
  owner: User!
  team: Team
}

"""Date custom scalar type"""
scalar Date

type Task {
  id: ID!
  title: String!
  description: String!
  priority: Float!
  creationDate: Date!
  project: Project!
  active: Boolean!
  creator: User!
  followers: [User!]!
}

type User {
  id: ID!
  name: String!
  email: String!
  creationDate: Date!
  password: String!
  isAdmin: Boolean!
  ownedTeams: [Team!]
  teams: [Team!]
  tasks: [Task!]
  myTasks: [Task!]
}

type ProjectsResult {
  result: [Project!]!
  total: Int!
}

type TasksResult {
  result: [Task!]!
  total: Int!
}

type Query {
  user(id: ID!): User!
  loggedUser: User!
  team(id: ID!): Team!
  teams: [Team!]
  myTeams: [Team!]
  project(id: ID!): Project!
  projects(skip: Int = 0, take: Int = 25): ProjectsResult!
  myProjects: [Project!]
  projectsByName(skip: Int = 0, take: Int = 25, name: String!): ProjectsResult
  task(id: ID!): Task!
  tasks(skip: Int = 0, take: Int = 25, title: String, projectId: ID, active: Boolean): TasksResult!
}

type Mutation {
  createTeam(data: NewTeamInput!): Team!
  removeTeam(id: ID!): Team!
  updateTeam(data: UpdateTeamInput!, id: ID!): Team!
  addTeamMember(userId: ID!, teamId: ID!): Team!
  createProject(teamId: ID, data: NewProjectInput!): Project!
  updateProject(data: UpdateProjectInput!, id: ID!): Project!
  removeProject(id: ID!): Project!
  createTask(data: NewTaskInput!): Task!
  updateTask(data: UpdateTaskInput!, id: ID!): Task!
  removeTask(id: ID!): Task!
  addTaskFollower(userId: ID!, id: ID!): Task!
}

input NewTeamInput {
  name: String!
  description: String!
}

input UpdateTeamInput {
  name: String
  description: String
}

input NewProjectInput {
  name: String!
  description: String!
}

input UpdateProjectInput {
  name: String
  description: String
}

input NewTaskInput {
  title: String!
  description: String
  priority: Float = 0
  active: Boolean
  projectId: ID!
}

input UpdateTaskInput {
  title: String
  description: String
  priority: Float
  active: Boolean
}

type Subscription {
  taskAdded: Task!
  taskRemoved: Task!
}
